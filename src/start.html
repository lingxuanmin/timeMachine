<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <link rel="shortcut icon" href="http://www.suning.com/favicon.ico" type="image/x-icon">
    <title>时光机</title>
    <meta name="keywords" content=""/>
    <meta name="description" content=""/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <!-- build:css ./assets/css/time_machine.css -->
    <link rel="stylesheet" href="css/time_machine.scss" />
    <!-- endbuild -->
</head>
<body>
    <!-- 自适应屏幕 [[ -->
    <script type="text/javascript" async="true">
        function _adaptFont(maxWidth, baseWidth, baseSize){
            maxWidth = 750;//最大值750px
            baseWidth = 320;
            baseSize = 16;
            var winWidth =  parseInt(window.innerWidth);   /*s4手机读到的winWidth是分辨率的宽*/
            var docWidth =  parseInt(document.documentElement.clientWidth);  //和winWidth区别是，减去右边滚动条
            var bodyWidth =  parseInt(document.body.clientWidth);   //混合模式下使用
            var docWidth = Math.min(winWidth, bodyWidth, docWidth);
            docWidth > maxWidth && (docWidth = maxWidth);
            docWidth < baseWidth && (docWidth = baseWidth);
            //设置基准值
            document.documentElement.style.fontSize =  (docWidth/baseWidth)*baseSize + 'px';

        }
        _adaptFont();
    </script>
    <!-- 自适应屏幕 ]] -->
    <!-- wrap [[ -->
    <article class="wrap">
        <section class="swiper-banner">
            <section class="swiper-wrapper">

                <!-- step 2 [[ -->
                <!--#include file="/timeMachine/build/step2.html" -->
                <!-- step 2 ]] -->

                <!-- step 3 [[ -->
                <!--#include file="/timeMachine/build/step3.html" -->
                <!-- step 3 ]] -->

                <!-- step 4 [[ -->
                <!--#include file="/timeMachine/build/step4.html" -->
                <!-- step 4 ]] -->

                <!-- step 5 [[ -->
                <!--#include file="/timeMachine/build/step5.html" -->
                <!-- step 5 ]] -->

                <!-- step 6 [[ -->
                <!--#include file="/timeMachine/build/step6.html" -->
                <!-- step 6 ]] -->

                <!-- step 7 [[ -->
                <!--#include file="/timeMachine/build/step7.html" -->
                <!-- step 7 ]] -->

                <!-- step 8 [[ -->
                <!--#include file="/timeMachine/build/step8.html" -->
                <!-- step 8 ]] -->
            </section>
        </section>        
    </article>
    <section class="point"></section>
    <!-- wrap ]] -->
    <!-- build:js ./assets/js/zepto.min.js -->
    <script scr="js/zepto.min.js"></script>
    <!-- endbuild -->
    <!-- build:js ./assets/js/swiper.min.js -->
    <script scr="js/swiper.min.js"></script>
    <!-- endbuild -->
    <!-- build:js ./assets/js/index.js -->
    <script scr="js/index.js"></script>
    <!-- endbuild -->
    <script>
        //页面尺寸自适应
        (function(){
            window.addEventListener("resize",_adaptFont);
        })();
        var swiper = new Swiper('.swiper-banner', {
            direction: 'vertical',
            followFinger: false,
            speed: 500,
            onSlideChangeEnd: function (e) {
                var $ele = $(".step-wrap"),
                    $ele2 = $(".J-step"),
                    $ele3 = $(".step7 .done"),
                    $ele4 = $(".point");
                if (e.activeIndex == 6) {
                    $ele4.animate({
                        opacity: 0
                    })
                } else {
                    $ele4.animate({
                        opacity: 1
                    })
                }
                $ele2.removeClass("active").removeClass("animation-bind");
                $ele3.css({width: 0});
                $ele2.eq(e.activeIndex).addClass("animation-bind").addClass("active");

            }
        });
        $(".point").on("click", function () {
            swiper.slideNext();
        });
    </script>
</body>
</html>